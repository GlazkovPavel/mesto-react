{"ast":null,"code":"import { config } from \"./utils\";\n\nclass Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _getResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    }).then(this._getResponse);\n  }\n\n  getUserInfoStart() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    }).then(this._getResponse);\n  }\n\n  setUserInfoData(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.job\n      })\n    }).then(this._getResponse);\n  }\n\n  setCardServer(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then(this._getResponse);\n  }\n\n  putLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(this._getResponse);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._getResponse);\n  }\n\n  deleteLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._getResponse);\n  }\n\n  changeAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.link\n      })\n    }).then(this._getResponse);\n  }\n\n}\n\nexport const api = new Api(config);","map":{"version":3,"sources":["/Users/pavelglazkov/Desktop/dev/mesto-react/src/utils/api.js"],"names":["config","Api","constructor","_url","url","_headers","headers","_getResponse","res","ok","json","Promise","reject","status","getInitialCards","fetch","then","getUserInfoStart","setUserInfoData","data","method","body","JSON","stringify","name","about","job","setCardServer","link","putLike","cardId","deleteCard","deleteLike","changeAvatar","avatar","api"],"mappings":"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","sourcesContent":["import {config} from \"./utils\";\nclass Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n\n    _getResponse(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            headers: this._headers\n        })\n            .then(this._getResponse)\n    }\n\n    getUserInfoStart() {\n        return fetch(`${this._url}/users/me`, {\n            headers: this._headers\n        })\n            .then(this._getResponse)\n    }\n\n    setUserInfoData(data) {\n        return fetch(`${this._url}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                about: data.job\n            })\n        })\n            .then(this._getResponse)\n    }\n\n    setCardServer(data) {\n        return fetch(`${this._url}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n            .then(this._getResponse)\n    }\n\n    putLike(cardId) {\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\n            method: 'PUT',\n            headers: this._headers\n        })\n            .then(this._getResponse)\n    }\n\n    deleteCard(cardId) {\n        return fetch(`${this._url}/cards/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n            .then(this._getResponse)\n    }\n\n    deleteLike(cardId) {\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n            .then(this._getResponse)\n    }\n\n    changeAvatar(data) {\n        return fetch(`${this._url}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: data.link,\n            })\n        })\n            .then(this._getResponse)\n    }\n}\n\nexport const api = new Api(config);"]},"metadata":{},"sourceType":"module"}